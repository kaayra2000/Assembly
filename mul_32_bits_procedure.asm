PUBLIC topla
EXTRN toplam:WORD
mycs SEGMENT PARA 'sda'
ASSUME CS:mycs
topla PROC FAR
PUSH BP
MOV BP,SP
MOV CX,[BP+8]
LEA DI,toplam
L1:
MOV AX,[BP+12]
ADD [DI],AX
MOV AX,[BP+10]
ADC [DI+2],AX
ADC WORD PTR [DI+4],0
ADC WORD PTR [DI+6],0
LOOP L1
MOV DX,[BP+6]
CMP DX,0
JE L5
CMP DX,32768
JB L11
XOR DX,0FFFFH
ADD DX,1
L11:MOV CX,32768
L2:PUSH CX
MOV CX,2
L7:PUSH CX
MOV CX,DX
L3:MOV AX,[BP+12]
ADD [DI],AX
MOV AX,[BP+10]
ADC [DI+2],AX
ADC WORD PTR [DI+4],0
ADC WORD PTR [DI+6],0
LOOP L3
POP CX
LOOP L7
POP CX
LOOP L2
L5:
POP BP
RETF 8
topla ENDP
mycs ENDS 
END